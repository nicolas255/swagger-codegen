// APIHelper.swift
//
// Generated by swagger-codegen
// https://github.com/swagger-api/swagger-codegen
//

import Foundation

class APIHelper {
    static func rejectNil(_ source: [String:Any?]) -> [String:Any]? {
        var destination = [String:Any]()
        for (key, nillableValue) in source {
            if let value: Any = nillableValue {
                destination[key] = value
            }
        }

        if destination.isEmpty {
            return nil
        }
        return destination
    }

    static func rejectNilHeaders(_ source: [String:Any?]) -> [String:String] {
        var destination = [String:String]()
        for (key, nillableValue) in source {
            if let value: Any = nillableValue {
                destination[key] = "\(value)"
            }
        }
        return destination
    }

    static func convertBoolToString(_ source: [String: Any]?) -> [String:Any]? {
        guard let source = source else {
            return nil
        }
        var destination = [String:Any]()
        let theTrue = NSNumber(value: true as Bool)
        let theFalse = NSNumber(value: false as Bool)
        for (key, value) in source {
            switch value {
            case let x where x as? NSNumber === theTrue || x as? NSNumber === theFalse:
                destination[key] = "\(value as! Bool)" as Any?
            default:
                destination[key] = value
            }
        }
        return destination
    }


    static func mapValuesToQueryItems(values: [String:Any?]) -> [URLQueryItem]? {
        var returnValues = [URLQueryItem]()
        for (key, value) in values {
            guard let value = value else { continue }

            if let dictionary = value as? [String: Any] {
                for (subKey, subValue) in dictionary {
                    returnValues.append(URLQueryItem(name: "\(key)[\(subKey)]", value:"\(subValue)"))
                }
            } else if let array = value as? [Any] {
                for subValue in array {
                    returnValues.append(URLQueryItem(name: "\(key)[]", value:"\(subValue)"))
                }
            } else {
                returnValues.append(URLQueryItem(name: key, value:"\(value)"))
            }
        }
        if returnValues.isEmpty {
            return nil
        }
        return returnValues
    }

}
